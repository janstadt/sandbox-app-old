{"version":3,"file":"surescripts-user-profile.js","sources":["ng://@surescripts/user-profile/lib/user-profile.model.ts","ng://@surescripts/user-profile/lib/user-profile.component.ts","ng://@surescripts/user-profile/lib/user.model.ts","ng://@surescripts/user-profile/lib/user-profile.module.ts"],"sourcesContent":["import { SurescriptsUser } from './user.model';\r\nexport class SurescriptsUserProfile {\r\n    user: SurescriptsUser;\r\n    environment: string;\r\n    baseUrl: string;\r\n    public constructor(init?: Partial<SurescriptsUserProfile>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SurescriptsUserProfile } from './user-profile.model';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'surescripts-user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.scss']\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n\r\n  @Input()\r\n  logoutUrl: string;\r\n\r\n  @Input()\r\n  ssoBaseUrl: string;\r\n  environment: string;\r\n  isStaging = false;\r\n  isProduction = false;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  profile: SurescriptsUserProfile;\r\n\r\n  ngOnInit() {\r\n    this.logoutUrl = this.logoutUrl || 'logout';\r\n    if (!this.ssoBaseUrl) {\r\n      throw new Error('\"ssoBaseUrl\" is required.');\r\n    }\r\n    this.ssoBaseUrl = this.ssoBaseUrl.replace(/\\/+$/, '');\r\n    this.http.get<SurescriptsUserProfile>(`${this.ssoBaseUrl}/app/v1/user/profile`,\r\n        { withCredentials: true }).pipe(tap(resp => {\r\n            this.environment = resp.environment && resp.environment.toLocaleUpperCase();\r\n            this.isStaging = this.environment === 'STAGING';\r\n            this.isProduction = this.environment === 'PRODUCTION';\r\n            this.profile = new SurescriptsUserProfile(resp);\r\n        })).subscribe();\r\n  }\r\n}\r\n","export class SurescriptsUser {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    public constructor(init?: Partial<SurescriptsUser>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgModule } from '@angular/core';\r\nimport { UserProfileComponent } from './user-profile.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    NgbDropdownModule\r\n  ],\r\n  declarations: [UserProfileComponent],\r\n  exports: [UserProfileComponent]\r\n})\r\nexport class UserProfileModule { }\r\nexport { SurescriptsUserProfile } from './user-profile.model';\r\nexport {SurescriptsUser} from './user.model';\r\n"],"names":[],"mappings":";;;;;;;;;;AACA,IAAA;oCAIuB,IAAsC;QACrD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;iCANlC;IAQC;;;;;;ACRD;IAqBE,8BAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAHpC,iBAAY,KAAK,CAAC;QAClB,oBAAe,KAAK,CAAC;KAEoB;;;;IAIzC,uCAAQ;;;IAAR;QAAA,iBAaC;QAZC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,QAAQ,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;SAC9C;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,GAAG,CAA4B,IAAI,CAAC,UAAU,yBAAsB,EAC1E,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,UAAA,IAAI;YACpC,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;YAC5E,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,WAAW,KAAK,SAAS,CAAC;YAChD,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,WAAW,KAAK,YAAY,CAAC;YACtD,KAAI,CAAC,OAAO,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,CAAC;SACnD,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;KACrB;;gBAjCF,SAAS,SAAC;oBACT,QAAQ,EAAE,0BAA0B;oBACpC,+tBAA4C;;iBAE7C;;;;gBARQ,UAAU;;;4BAWhB,KAAK;6BAGL,KAAK;;+BAfR;;;;;;;ACAA,IAAA;6BAIuB,IAA+B;QAC9C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;0BALlC;IAOC;;;;;;ACPD;;;;gBAMC,QAAQ,SAAC;oBACR,OAAO,EAAE;wBACP,YAAY;wBACZ,gBAAgB;wBAChB,iBAAiB;qBAClB;oBACD,YAAY,EAAE,CAAC,oBAAoB,CAAC;oBACpC,OAAO,EAAE,CAAC,oBAAoB,CAAC;iBAChC;;4BAdD;;;;;"}