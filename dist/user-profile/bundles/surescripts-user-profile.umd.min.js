!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap")):"function"==typeof define&&define.amd?define("@surescripts/user-profile",["exports","@angular/core","@angular/common/http","rxjs/operators","@angular/common","@ng-bootstrap/ng-bootstrap"],r):r(((e=e||self).surescripts=e.surescripts||{},e.surescripts["user-profile"]={}),e.ng.core,e.ng.common.http,e.rxjs.operators,e.ng.common,e["@ng-bootstrap/ng-bootstrap"])}(this,function(e,r,o,t,n,s){"use strict";var i=function(e){Object.assign(this,e)},p=function(){function e(e){this.http=e,this.isStaging=!1,this.isProduction=!1}return e.prototype.ngOnInit=function(){var e=this;if(this.logoutUrl=this.logoutUrl||"logout",!this.ssoBaseUrl)throw new Error('"ssoBaseUrl" is required.');this.ssoBaseUrl=this.ssoBaseUrl.replace(/\/+$/,""),this.http.get(this.ssoBaseUrl+"/app/v1/user/profile",{withCredentials:!0}).pipe(t.tap(function(r){e.environment=r.environment&&r.environment.toLocaleUpperCase(),e.isStaging="STAGING"===e.environment,e.isProduction="PRODUCTION"===e.environment,e.profile=new i(r)})).subscribe()},e.decorators=[{type:r.Component,args:[{selector:"surescripts-user-profile",template:'<span *ngIf="environment && !isProduction" class="environment-identifier navbar-text pr-2" [ngClass]="{\'staging\': isStaging}" title="Current Environment: {{environment}}">{{environment}}</span>\r\n<div class="d-inline-block" ngbDropdown placement="bottom-right" *ngIf="profile?.user" display="dynamic">\r\n  <a ngbDropdownToggle class="nav-link" data-toggle="dropdown">{{profile?.user?.lastName}}, {{profile?.user?.firstName}}</a>\r\n  <div ngbDropdownMenu>\r\n      <a class="dropdown-item" id="userprofile-profile-link" href="{{profile?.baseUrl}}/profile">View Profile</a>\r\n      <a class="dropdown-item" id="userprofile-logout-link" href="{{logoutUrl}}">Logout</a>\r\n  </div>\r\n</div>',styles:[".dropdown-toggle{cursor:pointer}.environment-identifier{font-weight:700;letter-spacing:.05em;text-transform:uppercase}.environment-identifier.staging{color:#f7901e}"]}]}],e.ctorParameters=function(){return[{type:o.HttpClient}]},e.propDecorators={logoutUrl:[{type:r.Input}],ssoBaseUrl:[{type:r.Input}]},e}(),a=function(e){Object.assign(this,e)},l=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[n.CommonModule,o.HttpClientModule,s.NgbDropdownModule],declarations:[p],exports:[p]}]}],e}();e.SurescriptsUser=a,e.SurescriptsUserProfile=i,e.UserProfileComponent=p,e.UserProfileModule=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=surescripts-user-profile.umd.min.js.map