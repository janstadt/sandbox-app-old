{"version":3,"file":"surescripts-user-profile.umd.js","sources":["ng://@surescripts/user-profile/lib/user-profile.model.ts","ng://@surescripts/user-profile/lib/user-profile.component.ts","ng://@surescripts/user-profile/lib/user.model.ts","ng://@surescripts/user-profile/lib/user-profile.module.ts"],"sourcesContent":["import { SurescriptsUser } from './user.model';\r\nexport class SurescriptsUserProfile {\r\n    user: SurescriptsUser;\r\n    environment: string;\r\n    baseUrl: string;\r\n    public constructor(init?: Partial<SurescriptsUserProfile>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SurescriptsUserProfile } from './user-profile.model';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'surescripts-user-profile',\r\n  templateUrl: './user-profile.component.html',\r\n  styleUrls: ['./user-profile.component.scss']\r\n})\r\nexport class UserProfileComponent implements OnInit {\r\n\r\n  @Input()\r\n  logoutUrl: string;\r\n\r\n  @Input()\r\n  ssoBaseUrl: string;\r\n  environment: string;\r\n  isStaging = false;\r\n  isProduction = false;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  profile: SurescriptsUserProfile;\r\n\r\n  ngOnInit() {\r\n    this.logoutUrl = this.logoutUrl || 'logout';\r\n    if (!this.ssoBaseUrl) {\r\n      throw new Error('\"ssoBaseUrl\" is required.');\r\n    }\r\n    this.ssoBaseUrl = this.ssoBaseUrl.replace(/\\/+$/, '');\r\n    this.http.get<SurescriptsUserProfile>(`${this.ssoBaseUrl}/app/v1/user/profile`,\r\n        { withCredentials: true }).pipe(tap(resp => {\r\n            this.environment = resp.environment && resp.environment.toLocaleUpperCase();\r\n            this.isStaging = this.environment === 'STAGING';\r\n            this.isProduction = this.environment === 'PRODUCTION';\r\n            this.profile = new SurescriptsUserProfile(resp);\r\n        })).subscribe();\r\n  }\r\n}\r\n","export class SurescriptsUser {\r\n    id: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    public constructor(init?: Partial<SurescriptsUser>) {\r\n        Object.assign(this, init);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgModule } from '@angular/core';\r\nimport { UserProfileComponent } from './user-profile.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    HttpClientModule,\r\n    NgbDropdownModule\r\n  ],\r\n  declarations: [UserProfileComponent],\r\n  exports: [UserProfileComponent]\r\n})\r\nexport class UserProfileModule { }\r\nexport { SurescriptsUserProfile } from './user-profile.model';\r\nexport {SurescriptsUser} from './user.model';\r\n"],"names":["tap","Component","HttpClient","Input","NgModule","CommonModule","HttpClientModule","NgbDropdownModule"],"mappings":";;;;;;;;;;AACA,QAAA;wCAIuB,IAAsC;YACrD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;qCANlC;QAQC;;;;;;ACRD;QAqBE,8BAAoB,IAAgB;YAAhB,SAAI,GAAJ,IAAI,CAAY;YAHpC,iBAAY,KAAK,CAAC;YAClB,oBAAe,KAAK,CAAC;SAEoB;;;;QAIzC,uCAAQ;;;QAAR;YAAA,iBAaC;YAZC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,IAAI,QAAQ,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;gBACpB,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;aAC9C;YACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;YACtD,IAAI,CAAC,IAAI,CAAC,GAAG,CAA4B,IAAI,CAAC,UAAU,yBAAsB,EAC1E,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAACA,aAAG,CAAC,UAAA,IAAI;gBACpC,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC;gBAC5E,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,WAAW,KAAK,SAAS,CAAC;gBAChD,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,WAAW,KAAK,YAAY,CAAC;gBACtD,KAAI,CAAC,OAAO,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,CAAC;aACnD,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;SACrB;;oBAjCFC,cAAS,SAAC;wBACT,QAAQ,EAAE,0BAA0B;wBACpC,+tBAA4C;;qBAE7C;;;;oBARQC,eAAU;;;gCAWhBC,UAAK;iCAGLA,UAAK;;mCAfR;;;;;;;ACAA,QAAA;iCAIuB,IAA+B;YAC9C,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;8BALlC;QAOC;;;;;;ACPD;;;;oBAMCC,aAAQ,SAAC;wBACR,OAAO,EAAE;4BACPC,mBAAY;4BACZC,qBAAgB;4BAChBC,6BAAiB;yBAClB;wBACD,YAAY,EAAE,CAAC,oBAAoB,CAAC;wBACpC,OAAO,EAAE,CAAC,oBAAoB,CAAC;qBAChC;;gCAdD;;;;;;;;;;;;;;;;"}