<div ngbDropdown *ngIf="products && products.length > 0" display="dynamic">
  <a ngbDropdownToggle class="nav-link" data-toggle="dropdown">
    <span class="navbar-toggler-icon"></span>
  </a>
  <div ngbDropdownMenu>
    <ng-container *ngFor="let p of products; index as i;">
        <a class="dropdown-item" id="{{'app-'+i}}" *ngIf="p.link; else heading" [ngClass]="{active : p.selected}" href="{{p.link}}">{{p.text}}</a>
        <ng-template #heading>
          <h6 class="dropdown-header" id="{{'heading-'+i}}">{{p.text}}</h6>
      </ng-template>
      <ng-container *ngIf="p.children?.length > 0">
        <ng-container *ngFor="let c of p.children; index as j;">
            <a class="dropdown-item" id="{{'app-'+i+'-child-'+j}}" *ngIf="c.link; else childheading" [ngClass]="{active : c.selected}" href="{{c.link}}">{{c.text}}</a>
            <ng-template #childheading>
              <h6 class="dropdown-header" id="{{'heading-'+i+'-child-'+j}}">{{c.text}}</h6>
            </ng-template>
        </ng-container>
        <div class="dropdown-divider"></div>
      </ng-container>
    </ng-container>
  </div>
</div>